# kettle设置JVM内存

## 初始分配内存

> -Xms指定，默认为物理内存的1/64

## 最大分配内存

> -Xmx指定，默认为物理内存的1/4

## 分配方案

默认空余堆内存小于40%时，JVM就会增大到-Xmx的最大限制

空余堆内存大于70%时，JVM会减少到-Xms的最小限制

## 服务器分配设置推荐

服务器一般设置-Xms、-Xmx相等，避免每次都要调整堆的大小

可以利用JVM提供的-Xmn -Xms -Xmx等选项可进行堆内存设置，
一般的要将-Xms和-Xmx选项设置为相同，
而-Xmn为1/4的-Xmx值，
建议堆的最大值设置为可用内存的最大值的80%。 



最大堆栈内存不超过总内存的3/8有的也说是 一半，总之得有个度。