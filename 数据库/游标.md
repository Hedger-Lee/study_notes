# 游标

## 静态游标

> 在声明的同时赋值，就是静态游标。

### 显性游标

> 明确的定义和操作游标

1. 定义和声明游标

   ```
   cursor 游标名 is select语句;
   ```

2. 打开游标

   ```
   open 游标名;
   ```

3. 获取游标的内容

   ```
   fetch 游标名 into 行变量;
   ```

4. 关闭游标

   ```
   close 游标名;
   ```

### 隐性游标

> 代码发生了一个DML操作，查看这次操作影响的数据有多少

```
sql%rowcount
对应上一条最近的DML操作所影响的数据条数
```



## 动态游标

> 声明的时候只声明，只有在begin块中运行中才指定运行的内容，这是动态游标。

优点：在声明的时候不指定，可以节省内存，反复使用，只需要在close之后再重新open即可。

```
--声明游标的类型
type 游标类型名(自定义) is ref cursor;
--声明游标
游标名 游标类型名(上面定义的)


--使用
open 游标名 for select语句;
--关闭
close 游标名;
```

